(this.webpackJsonpspotify=this.webpackJsonpspotify||[]).push([[0],{48:function(t,e,a){},72:function(t,e,a){},73:function(t,e,a){},74:function(t,e,a){},75:function(t,e,a){},78:function(t,e,a){},80:function(t,e,a){},81:function(t,e,a){},82:function(t,e,a){},83:function(t,e,a){},84:function(t,e,a){},85:function(t,e,a){},86:function(t,e,a){},87:function(t,e,a){},88:function(t,e,a){},89:function(t,e,a){},90:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),r=a(37),c=a.n(r),i=(a(48),a(20)),o=a(2),l=a.n(o),u=a(5),j=a(10),d=a.n(j),h=function(t){window.localStorage.setItem("spotify_token_timestamp",Date.now()),window.localStorage.setItem("spotify_access_token",t)},b=function(){return window.localStorage.getItem("spotify_refresh_token")},m=function(){var t=Object(u.a)(l.a.mark((function t(){var e,a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.get("/refresh_token?refresh_token=".concat(b()));case 3:return e=t.sent,a=e.data,n=a.access_token,h(n),window.location.reload(),t.abrupt("return");case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=function(){for(var t,e={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);t=a.exec(n);)e[t[1]]=decodeURIComponent(t[2]);return e}(),e=t.error,a=t.access_token,n=t.refresh_token;e&&(console.error(e),m()),Date.now()-window.localStorage.getItem("spotify_token_timestamp")>36e5&&(console.warn("Access token has expired, refreshing..."),m());var s=window.localStorage.getItem("spotify_access_token"),r=b();return r&&"undefined"!==r||function(t){window.localStorage.setItem("spotify_refresh_token",t)}(n),s&&"undefined"!==s?s:(h(a),a)}(),f=function(){window.localStorage.removeItem("spotify_token_timestamp"),window.localStorage.removeItem("spotify_access_token"),window.localStorage.removeItem("spotify_refresh_token"),window.location.replace("http://artist-explorer.herokuapp.com")},x={Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},O=function(t){return d.a.get("https://api.spotify.com/v1/search?q=".concat(t,"&type=artist&limit=40"),{headers:x})},g=function(){return d.a.get("https://api.spotify.com/v1/me",{headers:x})},v=function(){return d.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=short_term",{headers:x})},w=function(t){return d.a.get("https://api.spotify.com/v1/artists/".concat(t),{headers:x})},y=function(t){return d.a.get("https://api.spotify.com/v1/artists/".concat(t,"/related-artists"),{headers:x})},k=function(t,e){return d.a.get(" https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?market=").concat(e),{headers:x})},N=function(t){var e="https://api.spotify.com/v1/me/following?type=artist&ids=".concat(t);return d()({method:"put",url:e,headers:x})},_=function(t){return d.a.get("https://api.spotify.com/v1/me/following/contains?type=artist&ids=".concat(t),{headers:x})},S=function(t,e){return d.a.all([w(t),y(t),k(t,e),_(t)]).then(d.a.spread((function(t,e,a,n){return{artist:t.data,related:e.data,topTracks:a.data,doesFollow:n.data[0]}})))},C=a(3),F=a(7),T=a(38),P=a(39),A=a(43),I=a(42),M=a(0),D=s.a.createContext(),E=function(t){Object(A.a)(a,t);var e=Object(I.a)(a);function a(){var t;Object(T.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={user:""},t.componentDidMount=function(){t.getUser()},t.getUser=Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:a=e.sent,t.setState({user:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),t}return Object(P.a)(a,[{key:"render",value:function(){return Object(M.jsx)(D.Provider,{value:Object(i.a)({},this.state),children:this.props.children})}}]),a}(s.a.Component),L=(D.Consumer,E),R=a(6),B=a(8),G=(a(72),function(t){var e=t.handleSubmit,a=t.handleChange,n=t.searchQuery;return Object(M.jsxs)("form",{onSubmit:e,children:[Object(M.jsx)(R.a,{icon:B.f}),Object(M.jsx)("input",{placeholder:"Search",onChange:a,value:n})]})}),H=(a(73),function(t){var e=s.a.useContext(D).user;return Object(M.jsxs)("div",{className:t.show?"dropdown activemenu":"dropdown",children:[Object(M.jsx)("small",{children:e.display_name}),Object(M.jsx)("small",{children:e.email}),Object(M.jsx)("button",{onClick:f,children:"Logout"})]})}),Q=(a(74),function(t){var e=s.a.useContext(D).user,a=s.a.useState(!1),n=Object(C.a)(a,2),r=n[0],c=n[1];return Object(M.jsxs)("header",{children:[Object(M.jsx)(G,{handleChange:t.handleChange,handleSubmit:t.handleSubmit}),Object(M.jsxs)("div",{className:"thumbnail-small dropdowntrigger",children:[Object(M.jsx)("img",{src:e.images&&e.images[0].url,onClick:function(t){t.stopPropagation(),c(!r)}}),Object(M.jsx)(H,{show:r})]})]})}),U=a(15),W=a.p+"static/media/Spotify_Icon_RGB_Green.cd66b8f6.png",J=a(18),Y=(a(75),function(){var t=Object(F.f)(),e=s.a.useState(),a=Object(C.a)(e,2),n=a[0],r=a[1],c=function(t){var e;e=t.target.id,r(e)};return s.a.useEffect((function(){r(t.pathname.replace("/",""))}),[]),Object(M.jsxs)("aside",{children:[Object(M.jsxs)("div",{className:"user-info",children:[Object(M.jsx)("div",{className:"thumbnail spotify",children:Object(M.jsx)(U.b,{to:"/",children:Object(M.jsx)("img",{src:W})})}),Object(M.jsx)("h2",{children:"Artist Explorer"})]}),Object(M.jsxs)("ul",{className:"side-nav",children:[Object(M.jsx)(U.b,{className:"link",to:"/top",children:Object(M.jsxs)("li",{className:"top"==n?"active":null,onClick:c,id:"top",children:[Object(M.jsx)(R.a,{icon:B.g}),"\xa0 Top Artists"]})}),Object(M.jsx)(U.b,{className:"link",to:"/random",children:Object(M.jsxs)("li",{className:"random"==n?"active":null,onClick:c,id:"random",children:[Object(M.jsx)(R.a,{icon:B.a}),"\xa0 Random"]})}),Object(M.jsx)(U.b,{className:"link",to:"/following",children:Object(M.jsxs)("li",{className:"following"==n?"active":null,onClick:c,id:"following",children:[Object(M.jsx)(R.a,{icon:B.h}),"\xa0 Following"]})})]}),Object(M.jsxs)("div",{class:"social-icons",children:[Object(M.jsxs)("a",{href:"https://github.com/tiffbouchard",target:"_blank",children:[Object(M.jsx)(R.a,{icon:J.b}),"\xa0"]}),Object(M.jsxs)("a",{href:"https://linkedin.com/in/tiffanybouchard",target:"_blank",children:[Object(M.jsx)(R.a,{icon:J.d}),"\xa0"]}),Object(M.jsxs)("a",{href:"https://behance.net/tiffanybouchard",target:"_blank",children:[Object(M.jsx)(R.a,{icon:J.a}),"\xa0"]}),Object(M.jsxs)("a",{href:"https://tiffbouchard.com",target:"_blank",children:[Object(M.jsx)(R.a,{icon:B.c}),"\xa0"]}),Object(M.jsxs)("a",{href:"https://instagram.com/tiffbouchard",targe:"_blank",children:[Object(M.jsx)(R.a,{icon:J.c}),"\xa0"]})]})]})}),q=a(41),z=(a(78),function(){return Object(M.jsx)("main",{className:"loader",children:Object(M.jsx)(q.Bars,{fill:"mediumseagreen",height:"70px"})})}),K=a(21),V=a(22),X=(a(80),a(81),function(t){var e=t.nowPlaying;return Object(M.jsx)("div",{className:"container",children:e&&Object(M.jsxs)("div",{className:"player",children:[Object(M.jsx)("div",{className:"music-info",children:Object(M.jsx)("div",{children:Object(M.jsx)("img",{src:e[0]})})}),Object(M.jsx)("div",{className:"trackinfo",children:Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{children:e[1]}),Object(M.jsx)("small",{className:"secondary-text",children:e[2]})]})})]})})}),Z=function(t){var e=t.handleClick,a=t.artistDetails,n=t.following,r=t.handleFollow,c=s.a.useState(!1),i=Object(C.a)(c,2),o=i[0],l=i[1],u=s.a.useState(null),j=Object(C.a)(u,2),d=j[0],h=j[1],b=s.a.useRef(null),m=function(t){t.stopPropagation(),l(t.target.id),h([t.target.src,t.target.getAttribute("data-name"),t.target.getAttribute("data-artists")])},p=function(t){t.stopPropagation(),l(null),h(null)};return a?Object(M.jsxs)("div",{className:"info-card",children:[Object(M.jsxs)("div",{className:"current-artist",children:[Object(M.jsx)("div",{className:"thumbnail",children:Object(M.jsx)("img",{src:a.artist.images.length?a.artist.images[0].url:W})}),Object(M.jsxs)("div",{className:"about",children:[Object(M.jsxs)("h2",{children:[a.artist.name,Object(M.jsx)("a",{target:"_blank",className:"external-tag",href:a.artist.external_urls.spotify,children:Object(M.jsx)(R.a,{icon:B.b})})]}),Object(M.jsxs)("small",{className:"stats",children:[a.artist.followers.total," followers"]}),Object(M.jsx)("div",{className:"tags",children:a.artist.genres.map((function(t){return Object(M.jsx)("small",{children:t})}))}),a.doesFollow||204===n?Object(M.jsx)("button",{id:a.artist.id,className:"follow-btn",children:"Following"}):Object(M.jsxs)("button",{onClick:r,id:a.artist.id,className:"follow-btn",children:["Follow\xa0",Object(M.jsx)(R.a,{icon:B.d})]})]})]}),Object(M.jsxs)("div",{className:"related-tracks",children:[Object(M.jsx)("h2",{children:"Top Tracks"}),Object(M.jsx)("div",{className:"related m-0",children:a.topTracks&&a.topTracks.tracks&&a.topTracks.tracks.map((function(t){return Object(M.jsxs)("div",{children:[V.isMobile?t.is_playable&&Object(M.jsx)("audio",{id:t.id,controls:!0,children:Object(M.jsx)("source",{src:t.preview_url,type:""})}):t.is_playable&&o===t.id&&Object(M.jsx)("audio",{id:t.id,autoPlay:!0,ref:b,onLoadedData:function(){return b.current.play()},children:Object(M.jsx)("source",{src:t.preview_url,type:""})}),t.is_playable&&Object(M.jsx)("div",{className:"album-thumbnail",children:Object(M.jsx)("img",Object(K.a)({src:t.album.images[0].url,"data-name":t.name,id:t.id,"data-artists":t.artists.map((function(t){return t.name})),onMouseEnter:m,onMouseLeave:p},"id",t.id))})]})}))}),Object(M.jsx)("h2",{children:"Related Artists"}),Object(M.jsx)("div",{className:"related",children:a.related&&a.related.artists&&a.related.artists.map((function(t){return Object(M.jsxs)("div",{className:"artist",onClick:e,children:[Object(M.jsx)("div",{className:"thumbnail",children:Object(M.jsx)("img",{src:t.images.length?t.images[0].url:W,id:t.id})}),Object(M.jsx)("small",{children:t.name})]})}))})]}),Object(M.jsx)(X,{nowPlaying:d})]}):Object(M.jsx)(z,{})},$=(a(82),function(t){var e=t.image,a=t.name,n=t.id,s=t.handleClick;return Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"card",onClick:s,children:[Object(M.jsx)("div",{className:"img-container",children:Object(M.jsx)("img",{id:n,src:e})}),Object(M.jsx)("div",{className:"name",id:n,children:a})]},n)})}),tt=(a(83),function(){var t=s.a.useContext(D).user,e=s.a.useState(null),a=Object(C.a)(e,2),n=a[0],r=a[1],c=s.a.useState(null),i=Object(C.a)(c,2),o=i[0],j=i[1],h=s.a.useState(),b=Object(C.a)(h,2),m=b[0],p=b[1],f=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=long_term",{headers:x});case 2:e=t.sent,r(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=medium_term",{headers:x});case 2:e=t.sent,r(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(u.a)(l.a.mark((function t(e){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e.target.id);case 2:a=t.sent,p(a.status);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:e=t.sent,r(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(l.a.mark((function e(a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(a,t.country);case 2:n=e.sent,j(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(t){t.stopPropagation(),y(t.target.id),p(null),window.scrollTo({top:0,behavior:"smooth"})};return s.a.useEffect((function(){f()}),[]),n?Object(M.jsxs)("main",{className:"content",children:[Object(M.jsxs)("div",{className:"header",children:[Object(M.jsx)("h1",{children:"Top Artists"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("button",{onClick:f,children:"All Time"}),Object(M.jsx)("button",{onClick:O,children:"Last 6 Months"}),Object(M.jsx)("button",{onClick:w,children:"Last 4 Weeks"})]})]}),o&&Object(M.jsx)(Z,{handleFollow:g,following:m,artistDetails:o,handleClick:k}),Object(M.jsx)("div",{className:"card-container",children:n&&n.items.map((function(t){return Object(M.jsx)($,{id:t.id,handleClick:k,image:t.images[0].url,name:t.name})}))})]}):Object(M.jsx)(z,{})}),et=function(){var t=s.a.useState(null),e=Object(C.a)(t,2),a=e[0],n=e[1],r=s.a.useState(null),c=Object(C.a)(r,2),i=c[0],o=c[1],j=s.a.useState(),h=Object(C.a)(j,2),b=h[0],m=h[1],p=function(){var t=Object(u.a)(l.a.mark((function t(e){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e.target.id);case 2:a=t.sent,console.log(a.status),m(a.status);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("https://api.spotify.com/v1/me/following?type=artist&limit=50",{headers:x});case 2:e=t.sent,n(e.data.artists);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(u.a)(l.a.mark((function t(e){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:return a=t.sent,t.next=5,S(e,a.data.country);case 5:n=t.sent,o(n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(t){t.stopPropagation(),O(t.target.id),m(null),window.scrollTo({top:0,behavior:"smooth"})};return s.a.useEffect((function(){f()}),[]),a?Object(M.jsxs)("main",{className:"content",children:[Object(M.jsx)("h1",{children:"Following"}),i&&Object(M.jsx)(Z,{handleFollow:p,following:b,artistDetails:i,handleClick:v}),Object(M.jsx)("div",{className:"card-container",children:a&&a.items.map((function(t){return Object(M.jsx)($,{id:t.id,handleClick:v,image:t.images[0].url,name:t.name})}))})]}):Object(M.jsx)(z,{})},at=(a(84),function(t){var e=t.title,a=t.body,n=t.closeModal,s=t.type;return Object(M.jsx)("div",{className:"modal-back",children:Object(M.jsxs)("div",{className:"modal",children:[Object(M.jsx)("h2",{children:e}),"welcome"===s?Object(M.jsxs)("div",{className:"welcome-msg",children:[Object(M.jsx)("p",{children:"Artist Explorer is the perfect way to discover new artists that match your vibe. Start with what's familiar and find your way to someone new."}),Object(M.jsx)("p",{children:Object(M.jsx)("b",{children:"You can start exploring artists four ways..."})}),Object(M.jsxs)("div",{className:"icons",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:Object(M.jsx)(R.a,{icon:B.g})}),Object(M.jsx)("p",{children:"Start with your top artists of all time, last 6 months or 4 weeks."})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:Object(M.jsx)(R.a,{icon:B.a})}),Object(M.jsx)("p",{children:"Generate a random artist based on who you've been listening to lately."})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:Object(M.jsx)(R.a,{icon:B.h})}),Object(M.jsx)("p",{children:"Start with the artists you already follow."})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{children:Object(M.jsx)(R.a,{icon:B.f})}),Object(M.jsx)("p",{children:"Have someone you're thinking of? Search it up!"})]})]}),Object(M.jsxs)("p",{children:["Found your starting point? Click on your favourite artist to find similar artists and listen to their top tracks.  Continue clicking on artists until you find what you're looking for! ",Object(M.jsx)("b",{children:"Tracks plays on hover to make music discovery super fast."})]})]}):Object(M.jsx)("p",{children:a}),Object(M.jsx)("div",{className:"call-to-action",children:Object(M.jsx)("button",{onClick:n,children:"Let's go!"})})]})})}),nt=(a(85),function(){s.a.useContext(D).user;var t=s.a.useState(null),e=Object(C.a)(t,2),a=e[0],n=e[1],r=s.a.useState(!1),c=Object(C.a)(r,2),i=c[0],o=c[1],j=s.a.useState(!1),h=Object(C.a)(j,2),b=h[0],m=h[1],p=s.a.useState(null),f=Object(C.a)(p,2),O=f[0],w=f[1],y=s.a.useState(null),k=Object(C.a)(y,2),_=k[0],F=k[1],T=s.a.useState(!1),P=Object(C.a)(T,2),A=P[0],I=P[1],E=s.a.useState(),L=Object(C.a)(E,2),G=L[0],H=L[1],Q=s.a.useRef(null),U=function(){var t=Object(u.a)(l.a.mark((function t(){var e,a,n,s,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:e=t.sent,a=e.data.items.length,n=0,s=0,c=[];case 7:if(!(s<4)){t.next=17;break}if(r=Math.floor(Math.random()*(a-n+1))+n,!e.data.items[r]){t.next=13;break}c.push(e.data.items[r].id),t.next=14;break;case 13:return t.abrupt("continue",7);case 14:s++,t.next=7;break;case 17:return t.abrupt("return",c);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Object(u.a)(l.a.mark((function t(){var e,a,s,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,U();case 3:return e=t.sent,t.next=6,c=e,d.a.get("https://api.spotify.com/v1/recommendations?seed_artists=".concat(c,"&limit=1"),{headers:x});case 6:return a=t.sent,t.next=9,g();case 9:return s=t.sent,t.next=12,S(a.data.tracks[0].artists[0].id,s.data.country);case 12:r=t.sent,n(r),H(null),o(!1);case 16:case"end":return t.stop()}var c}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=Object(u.a)(l.a.mark((function t(e){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:return a=t.sent,t.next=5,S(e,a.data.country);case 5:n=t.sent,F(n);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=Object(u.a)(l.a.mark((function t(e){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e.target.id);case 2:a=t.sent,console.log(a.status),H(a.status);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(t){t.stopPropagation(),console.log(t.target),J(t.target.id),H(null),window.scrollTo({top:0,behavior:"smooth"})},K=function(t){t.stopPropagation(),m(t.target.id),w([t.target.src,t.target.getAttribute("data-name"),t.target.getAttribute("data-artists")])},$=function(t){t.stopPropagation(),m(null),w(null)};return s.a.useEffect((function(){W()}),[]),a?Object(M.jsxs)("main",{className:"random",children:[A&&Object(M.jsx)(at,{closeModal:function(){I(!1)},title:"How it works",body:"The random artist generator is the perfect way to discover new artists or rediscover some of your favourites. Sometimes there are just too many options and the random generator makes it easy to jump in and start listening to something good. Your results are based on your current favourites so you always get an artist that matches your vibe. A random array of your top artists from the past 4 weeks are thrown into Spotify's recommendation system and returns someone similar. Not happy with the results? Generate a new artist using the \u21bb button"}),_&&Object(M.jsx)(Z,{following:G,handleFollow:Y,artistDetails:_,handleClick:q}),Object(M.jsxs)("div",{children:[Object(M.jsxs)("div",{className:"randomheader-info",children:[Object(M.jsx)("button",{onClick:W,children:Object(M.jsx)(R.a,{spin:i,icon:B.e})}),Object(M.jsx)("small",{onClick:function(){I(!0)},children:Object(M.jsx)("u",{children:"How it works"})})]}),Object(M.jsxs)("div",{className:"randomrow",children:[Object(M.jsx)("div",{className:"image",children:Object(M.jsx)("img",{src:a.artist.images?a.artist.images[0].url:""})}),Object(M.jsxs)("div",{className:"artistinfo",children:[Object(M.jsxs)("div",{className:"randomrow artist-header",children:[Object(M.jsx)("h1",{children:a.artist.name}),Object(M.jsx)("a",{target:"_blank",className:"external-tag",href:a.artist.external_urls.spotify,children:Object(M.jsx)(R.a,{icon:B.b})})]}),Object(M.jsxs)("div",{className:"moreinfo",children:[Object(M.jsxs)("small",{children:[a.artist.followers.total," followers"]}),Object(M.jsx)("div",{className:"tags",children:a.artist.genres.map((function(t){return Object(M.jsx)("small",{children:t})}))}),a.doesFollow||204===G?Object(M.jsx)("button",{id:a.artist.id,className:"follow-btn",children:"Following"}):Object(M.jsxs)("button",{onClick:Y,id:a.artist.id,className:"follow-btn",children:["Follow\xa0",Object(M.jsx)(R.a,{icon:B.d})]})]})]})]}),Object(M.jsxs)("div",{className:"info",children:[Object(M.jsx)("h2",{children:"Top Tracks"}),Object(M.jsx)("div",{className:"related m-0",children:a.topTracks.tracks.map((function(t){return Object(M.jsxs)("div",{children:[V.isMobile?t.is_playable&&Object(M.jsx)("audio",{id:t.id,controls:!0,children:Object(M.jsx)("source",{src:t.preview_url,type:""})}):t.is_playable&&b===t.id&&Object(M.jsx)("audio",{id:t.id,autoPlay:!0,ref:Q,onLoadedData:function(){return Q.current.play()},children:Object(M.jsx)("source",{src:t.preview_url,type:""})}),t.is_playable&&Object(M.jsx)("div",{className:"album-thumbnail",children:Object(M.jsx)("img",{src:t.album.images[0].url,onMouseEnter:K,onMouseLeave:$,"data-name":t.name,id:t.id,"data-artists":t.artists.map((function(t){return t.name}))})})]})}))}),Object(M.jsx)("h2",{children:"Related Artists"}),Object(M.jsx)("div",{className:"related m-0",children:a.related.artists.map((function(t){return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{className:"thumbnail",onClick:q,children:Object(M.jsx)("img",{src:t.images[0].url,id:t.id})}),Object(M.jsx)("p",{children:t.name})]})}))})]})]}),Object(M.jsx)(X,{nowPlaying:O})]}):Object(M.jsx)(z,{})}),st=function(t){var e=s.a.useContext(D).user,a=t.loading,n=t.results,r=t.searchQuery,c=s.a.useState(null),i=Object(C.a)(c,2),o=i[0],j=i[1],d=s.a.useState(),h=Object(C.a)(d,2),b=h[0],m=h[1],p=function(){var t=Object(u.a)(l.a.mark((function t(e){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e.target.id);case 2:a=t.sent,console.log(a.status),m(a.status);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(u.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(a,e.country);case 2:n=t.sent,j(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(t){t.stopPropagation(),f(t.target.id),m(null),window.scrollTo({top:0,behavior:"smooth"})};return a?Object(M.jsx)(z,{}):n&&0===n.length?Object(M.jsx)("main",{className:"content",children:Object(M.jsxs)("h1",{children:["No results for ",r]})}):Object(M.jsxs)("main",{className:"content",children:[Object(M.jsxs)("h1",{children:["Search Results for ",r]}),o&&Object(M.jsx)(Z,{handleFollow:p,following:b,artistDetails:o,handleClick:x}),Object(M.jsx)("div",{className:"card-container",children:n&&n.map((function(t){return Object(M.jsx)($,{id:t.id,handleClick:x,image:t.images[0]?t.images[0].url:null,name:t.name})}))})]})},rt=(a(86),function(){var t=s.a.useContext(D).user,e=s.a.useState(!1),a=Object(C.a)(e,2),n=a[0],r=a[1];return Object(M.jsxs)("div",{className:"mobile-header",children:[Object(M.jsx)("div",{className:"logo-cont",children:Object(M.jsxs)(U.b,{to:"/",children:[Object(M.jsx)("img",{src:W}),Object(M.jsx)("h2",{children:"Artist Explorer"})]})}),Object(M.jsxs)("div",{className:"mobile-thumbnail-small dropdowntrigger",children:[Object(M.jsx)("img",{src:t.images&&t.images[0].url,onClick:function(t){t.stopPropagation(),r(!n)}}),Object(M.jsx)(H,{show:n})]})]})}),ct=(a(87),function(t){var e=s.a.useContext(D).user,a=t.history,n=s.a.useState(),r=Object(C.a)(n,2),c=r[0],i=r[1],o=s.a.useState(),j=Object(C.a)(o,2),d=j[0],h=j[1],b=s.a.useState(),m=Object(C.a)(b,2),f=m[0],x=m[1],g=s.a.useState(),v=Object(C.a)(g,2),w=v[0],y=v[1],k=s.a.useState(!0),N=Object(C.a)(k,2),_=N[0],S=N[1],T=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),y(!0),a.push("/search"),i(e.target.value),t.next=6,O(c);case 6:n=t.sent,h(n.data.artists.items),x(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),x(!0),y(!0),a.push("/search"),t.next=6,O(c);case 6:n=t.sent,h(n.data.artists.items),x(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return p?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(rt,{}),_&&Object(M.jsx)(at,{closeModal:function(){S(!1)},title:"Welcome back, ".concat(e.display_name,"!"),type:"welcome"}),Object(M.jsxs)("div",{className:"row",children:[Object(M.jsx)(Y,{searching:w}),Object(M.jsxs)("div",{className:"main",children:[Object(M.jsx)(Q,{handleChange:T,handleSubmit:P}),Object(M.jsxs)(F.c,{children:[Object(M.jsx)(F.a,{exact:!0,path:"/",render:function(){return Object(M.jsx)(tt,{})}}),Object(M.jsx)(F.a,{exact:!0,path:"/top",render:function(){return Object(M.jsx)(tt,{})}}),Object(M.jsx)(F.a,{exact:!0,path:"/following",render:function(){return Object(M.jsx)(et,{})}}),Object(M.jsx)(F.a,{exact:!0,path:"/random",render:function(){return Object(M.jsx)(nt,{})}}),Object(M.jsx)(F.a,{exact:!0,path:"/search",render:function(){return Object(M.jsx)(st,{loading:f,results:d,searchQuery:c})}})]})]})]})]}):Object(M.jsx)(z,{})}),it=(a(88),function(t){return Object(M.jsxs)("button",{className:"main-button",type:"button",children:[Object(M.jsx)("img",{className:"logo",src:t.logo}),Object(M.jsx)("a",{href:t.link,children:t.label})]})}),ot=a.p+"static/media/Spotify_Icon_RGB_White.ecd54051.png",lt=(a(89),function(){return Object(M.jsxs)("main",{className:"login",children:[Object(M.jsx)("h1",{children:"Artist Explorer"}),Object(M.jsx)(it,{logo:ot,link:"http://artist-explorer.herokuapp.com/login",label:"Login with Spotify"})]})}),ut=function(t){return Object(M.jsx)(M.Fragment,{children:p?Object(M.jsx)(ct,Object(i.a)({},t)):Object(M.jsx)(lt,{})})},jt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,91)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,c=e.getTTFB;a(t),n(t),s(t),r(t),c(t)}))};c.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(L,{children:Object(M.jsx)(U.a,{children:Object(M.jsx)(F.a,{component:ut})})})}),document.getElementById("root")),jt()}},[[90,1,2]]]);
//# sourceMappingURL=main.ca041de9.chunk.js.map