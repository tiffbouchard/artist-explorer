(this.webpackJsonpspotify=this.webpackJsonpspotify||[]).push([[0],{46:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},78:function(t,e,n){},79:function(t,e,n){},80:function(t,e,n){},81:function(t,e,n){},82:function(t,e,n){},83:function(t,e,n){},84:function(t,e,n){},85:function(t,e,n){},86:function(t,e,n){},87:function(t,e,n){},88:function(t,e,n){},89:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),s=n(35),c=n.n(s),i=(n(46),n(19)),o=n(2),l=n.n(o),u=n(4),j=n(3),d=n(7),h=n(36),b=n(37),f=n(41),m=n(40),p=n(6),x=n.n(p),O=function(t){window.localStorage.setItem("spotify_token_timestamp",Date.now()),window.localStorage.setItem("spotify_access_token",t)},g=function(){return window.localStorage.getItem("spotify_refresh_token")},v=function(){var t=Object(u.a)(l.a.mark((function t(){var e,n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("/refresh_token?refresh_token=".concat(g()));case 3:return e=t.sent,n=e.data,a=n.access_token,O(a),window.location.reload(),t.abrupt("return");case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=function(){for(var t,e={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);t=n.exec(a);)e[t[1]]=decodeURIComponent(t[2]);return e}(),e=t.error,n=t.access_token,a=t.refresh_token;e&&(console.error(e),v()),Date.now()-window.localStorage.getItem("spotify_token_timestamp")>36e5&&(console.warn("Access token has expired, refreshing..."),v());var r=window.localStorage.getItem("spotify_access_token"),s=g();return s&&"undefined"!==s||function(t){window.localStorage.setItem("spotify_refresh_token",t)}(a),r&&"undefined"!==r?r:(O(n),n)}(),y=function(){window.localStorage.removeItem("spotify_token_timestamp"),window.localStorage.removeItem("spotify_access_token"),window.localStorage.removeItem("spotify_refresh_token"),window.location.replace("http://artist-explorer.herokuapp.com")},k={Authorization:"Bearer ".concat(w),"Content-Type":"application/json"},N=function(t){return x.a.get("https://api.spotify.com/v1/search?q=".concat(t,"&type=artist&limit=40"),{headers:k})},S=function(){return x.a.get("https://api.spotify.com/v1/me",{headers:k})},_=function(){return x.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=short_term",{headers:k})},C=function(t){return x.a.get("https://api.spotify.com/v1/artists/".concat(t),{headers:k})},F=function(t){return x.a.get("https://api.spotify.com/v1/artists/".concat(t,"/related-artists"),{headers:k})},T=function(t,e){return x.a.get(" https://api.spotify.com/v1/artists/".concat(t,"/top-tracks?market=").concat(e),{headers:k})},P=function(t){var e="https://api.spotify.com/v1/me/following?type=artist&ids=".concat(t);return x()({method:"put",url:e,headers:k})},A=function(t){return x.a.get("https://api.spotify.com/v1/me/following/contains?type=artist&ids=".concat(t),{headers:k})},I=function(t){return x.a.get("https://api.spotify.com/v1/recommendations?seed_artists=".concat(t,"&limit=1"),{headers:k})},M=function(t,e){return x.a.all([C(t),F(t),T(t,e),A(t)]).then(x.a.spread((function(t,e,n,a){return{artist:t.data,related:e.data,topTracks:n.data,doesFollow:a.data[0]}})))},E=n(0),D=r.a.createContext(),L=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={user:""},t.componentDidMount=function(){t.getUser()},t.getUser=Object(u.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:n=e.sent,t.setState({user:n.data});case 4:case"end":return e.stop()}}),e)}))),t}return Object(b.a)(n,[{key:"render",value:function(){return Object(E.jsx)(D.Provider,{value:Object(i.a)({},this.state),children:this.props.children})}}]),n}(r.a.Component),B=(D.Consumer,L),R=n(8),G=n(9),H=(n(70),function(t){return Object(E.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(E.jsx)(R.a,{icon:G.e}),Object(E.jsx)("input",{placeholder:"Search",onChange:t.handleChange,value:t.searchQuery})]})}),Q=(n(71),function(t){var e=r.a.useContext(D).user;return Object(E.jsxs)("div",{className:t.show?"dropdown activemenu":"dropdown",children:[Object(E.jsx)("small",{children:e.display_name}),Object(E.jsx)("small",{children:e.email}),Object(E.jsx)("button",{onClick:y,children:"Logout"})]})}),U=(n(72),function(t){var e=r.a.useContext(D).user,n=r.a.useState(!1),a=Object(j.a)(n,2),s=a[0],c=a[1];return Object(E.jsxs)("header",{children:[Object(E.jsx)(H,{handleChange:t.handleChange,handleSubmit:t.handleSubmit}),Object(E.jsxs)("div",{className:"thumbnail-small dropdowntrigger",children:[Object(E.jsx)("img",{src:e.images&&e.images[0].url,onClick:function(t){t.stopPropagation(),c(!s)}}),Object(E.jsx)(Q,{show:s})]})]})}),W=n(15),J=n.p+"static/media/Spotify_Icon_RGB_Green.cd66b8f6.png",Y=(n(73),function(t){r.a.useContext(D).user;var e=r.a.useState(),n=Object(j.a)(e,2),a=n[0],s=n[1],c=function(t){var e;e=t.target.id,s(e)},i=Object(d.f)();return r.a.useEffect((function(){s(i.pathname.replace("/",""))}),[]),Object(E.jsxs)("aside",{children:[Object(E.jsxs)("div",{className:"user-info",children:[Object(E.jsx)("div",{className:"thumbnail spotify",children:Object(E.jsx)(W.b,{to:"/",children:Object(E.jsx)("img",{src:J})})}),Object(E.jsx)("h2",{children:"Artist Explorer"})]}),Object(E.jsxs)("ul",{className:"side-nav",children:[Object(E.jsx)(W.b,{className:"link",to:"/top",children:Object(E.jsxs)("li",{className:"top"==a?"active":null,onClick:c,id:"top",children:[Object(E.jsx)(R.a,{icon:G.f}),"\xa0 Top Artists"]})}),Object(E.jsx)(W.b,{className:"link",to:"/random",children:Object(E.jsxs)("li",{className:"random"==a?"active":null,onClick:c,id:"random",children:[Object(E.jsx)(R.a,{icon:G.a}),"\xa0 Random"]})}),Object(E.jsx)(W.b,{className:"link",to:"/following",children:Object(E.jsxs)("li",{className:"following"==a?"active":null,onClick:c,id:"following",children:[Object(E.jsx)(R.a,{icon:G.g}),"\xa0 Following"]})})]})]})}),q=(n(76),function(t){var e=t.nowPlaying;return Object(E.jsx)("div",{className:"container",children:e&&Object(E.jsxs)("div",{className:"player",children:[Object(E.jsx)("div",{className:"music-info",children:Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:e[0]})})}),Object(E.jsx)("div",{className:"trackinfo",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{children:e[1]}),Object(E.jsx)("small",{className:"secondary-text",children:e[2]})]})})]})})}),z=(n(77),function(){return Object(E.jsxs)("footer",{children:[Object(E.jsx)("div",{children:Object(E.jsxs)("small",{children:["by ",Object(E.jsx)("a",{href:"http://tiffbouchard.com",children:"Tiffany Bouchard"})]})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("small",{children:Object(E.jsx)("a",{target:"_blank",href:"http://github.com/tiffbouchard",children:"Github"})}),Object(E.jsx)("small",{children:Object(E.jsx)("a",{target:"_blank",href:"http://linkedin.com/in/tiffanybouchard",children:"Linkedin"})}),Object(E.jsx)("small",{children:Object(E.jsx)("a",{target:"_blank",href:"http://behance.net/tiffbouchard",children:"Behance"})}),Object(E.jsx)("small",{children:Object(E.jsx)("a",{target:"_blank",href:"http://instagram.com/tiffbouchard",children:"Instagram"})})]})]})}),K=n(39),V=(n(78),function(){return Object(E.jsx)("main",{className:"loader",children:Object(E.jsx)(K.Bars,{fill:"mediumseagreen",height:"70px"})})}),X=n(20),Z=(n(79),function(t){var e=t.handleClick,n=t.artistDetails,a=t.following,s=t.handleFollow,c=r.a.useState(!1),i=Object(j.a)(c,2),o=i[0],l=i[1],u=r.a.useState(null),d=Object(j.a)(u,2),h=d[0],b=d[1],f=function(t){t.stopPropagation(),l(t.target.id),b([t.target.src,t.target.getAttribute("data-name"),t.target.getAttribute("data-artists")])},m=function(t){t.stopPropagation(),l(null),b(null)};return n?Object(E.jsxs)("div",{className:"info-card",children:[Object(E.jsxs)("div",{className:"current-artist",children:[Object(E.jsx)("div",{className:"thumbnail",children:Object(E.jsx)("img",{src:n.artist.images.length?n.artist.images[0].url:J})}),Object(E.jsxs)("div",{className:"about",children:[Object(E.jsxs)("h2",{children:[n.artist.name,Object(E.jsx)("a",{target:"_blank",className:"external-tag",href:n.artist.external_urls.spotify,children:Object(E.jsx)(R.a,{icon:G.b})})]}),Object(E.jsxs)("small",{className:"stats",children:[n.artist.followers.total," followers"]}),Object(E.jsx)("div",{className:"tags",children:n.artist.genres.map((function(t){return Object(E.jsx)("small",{children:t})}))}),n.doesFollow||204===a?Object(E.jsx)("button",{id:n.artist.id,className:"follow-btn",children:"Following"}):Object(E.jsxs)("button",{onClick:s,id:n.artist.id,className:"follow-btn",children:["Follow\xa0",Object(E.jsx)(R.a,{icon:G.c})]})]})]}),Object(E.jsxs)("div",{className:"related-tracks",children:[Object(E.jsx)("h2",{children:"Top Tracks"}),Object(E.jsx)("div",{className:"related m-0",children:n.topTracks&&n.topTracks.tracks&&n.topTracks.tracks.map((function(t){return Object(E.jsxs)("div",{children:[t.is_playable&&o===t.id&&Object(E.jsx)("audio",{id:t.id,autoPlay:!0,children:Object(E.jsx)("source",{src:t.preview_url,type:""})}),t.is_playable&&Object(E.jsx)("div",{className:"album-thumbnail",children:Object(E.jsx)("img",Object(X.a)({src:t.album.images[0].url,"data-name":t.name,id:t.id,"data-artists":t.artists.map((function(t){return t.name})),onMouseEnter:f,onMouseLeave:m},"id",t.id))})]})}))}),Object(E.jsx)("h2",{children:"Related Artists"}),Object(E.jsx)("div",{className:"related",children:n.related&&n.related.artists&&n.related.artists.map((function(t){return Object(E.jsxs)("div",{className:"artist",onClick:e,children:[Object(E.jsx)("div",{className:"thumbnail",children:Object(E.jsx)("img",{src:t.images.length?t.images[0].url:J,id:t.id})}),Object(E.jsx)("small",{children:t.name})]})}))})]}),Object(E.jsx)(q,{nowPlaying:h})]}):Object(E.jsx)(V,{})}),$=(n(80),function(t){var e=t.image,n=t.name,a=t.id,r=t.handleClick;return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"card",onClick:r,children:[Object(E.jsx)("div",{className:"img-container",children:Object(E.jsx)("img",{id:a,src:e})}),Object(E.jsx)("div",{className:"name",id:a,children:n})]},a)})}),tt=(n(81),function(){var t=r.a.useState(null),e=Object(j.a)(t,2),n=e[0],a=e[1],s=r.a.useState(null),c=Object(j.a)(s,2),i=(c[0],c[1]),o=r.a.useState(null),d=Object(j.a)(o,2),h=d[0],b=d[1],f=r.a.useState(null),m=Object(j.a)(f,2),p=m[0],O=m[1],g=r.a.useState(),v=Object(j.a)(g,2),w=v[0],y=v[1],N=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=long_term",{headers:k});case 2:e=t.sent,a(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://api.spotify.com/v1/me/top/artists?limit=50&time_range=medium_term",{headers:k});case 2:e=t.sent,a(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e.target.id);case 2:n=t.sent,console.log(n.status),y(n.status);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:e=t.sent,a(e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:n=t.sent,i(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:n=t.sent,b(n.data.artists);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),B=function(){var t=Object(u.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return n=t.sent,t.next=5,M(e,n.data.country);case 5:a=t.sent,O(a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(t){t.stopPropagation(),console.log(t.target),L(t.target.id),B(t.target.id),D(t.target.id),y(null),window.scrollTo({top:0,behavior:"smooth"})};return r.a.useEffect((function(){N()}),[]),n?Object(E.jsxs)("main",{className:"content",children:[Object(E.jsxs)("div",{className:"header",children:[Object(E.jsx)("h1",{children:"Top Artists"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{onClick:N,children:"All Time"}),Object(E.jsx)("button",{onClick:T,children:"Last 6 Months"}),Object(E.jsx)("button",{onClick:I,children:"Last 4 Weeks"})]})]}),h&&Object(E.jsx)(Z,{handleFollow:A,following:w,artistDetails:p,handleClick:R}),Object(E.jsx)("div",{className:"card-container",children:n&&n.items.map((function(t){return Object(E.jsx)($,{id:t.id,handleClick:R,image:t.images[0].url,name:t.name})}))})]}):Object(E.jsx)(V,{})}),et=function(){var t=r.a.useState(null),e=Object(j.a)(t,2),n=e[0],a=e[1],s=r.a.useState(null),c=Object(j.a)(s,2),i=(c[0],c[1]),o=r.a.useState(null),d=Object(j.a)(o,2),h=d[0],b=d[1],f=r.a.useState(null),m=Object(j.a)(f,2),p=m[0],O=m[1],g=r.a.useState(),v=Object(j.a)(g,2),w=v[0],y=v[1],N=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e.target.id);case 2:n=t.sent,console.log(n.status),y(n.status);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),_=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("https://api.spotify.com/v1/me/following?type=artist&limit=50",{headers:k});case 2:e=t.sent,console.log(e),a(e.data.artists);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:n=t.sent,i(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:n=t.sent,b(n.data.artists);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(u.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return n=t.sent,t.next=5,M(e,n.data.country);case 5:a=t.sent,O(a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(t){t.stopPropagation(),console.log(t.target),A(t.target.id),I(t.target.id),T(t.target.id),y(null),window.scrollTo({top:0,behavior:"smooth"})};return r.a.useEffect((function(){_()}),[]),n?Object(E.jsxs)("main",{className:"content",children:[Object(E.jsx)("h1",{children:"Following"}),h&&Object(E.jsx)(Z,{handleFollow:N,following:w,artistDetails:p,handleClick:D}),Object(E.jsx)("div",{className:"card-container",children:n&&n.items.map((function(t){return Object(E.jsx)($,{id:t.id,handleClick:D,image:t.images[0].url,name:t.name})}))})]}):Object(E.jsx)(V,{})},nt=(n(82),function(t){var e=t.title,n=t.body,a=t.closeModal,r=t.type;return Object(E.jsx)("div",{className:"modal-back",children:Object(E.jsxs)("div",{className:"modal",children:[Object(E.jsx)("h2",{children:e}),"welcome"===r?Object(E.jsxs)("div",{className:"welcome-msg",children:[Object(E.jsx)("p",{children:"Artist Explorer is the perfect way to discover new artists that match your vibe. Start with what's familiar and find your way to someone new."}),Object(E.jsx)("p",{children:Object(E.jsx)("b",{children:"You can start exploring artists four ways..."})}),Object(E.jsxs)("div",{className:"icons",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:Object(E.jsx)(R.a,{icon:G.f})}),Object(E.jsx)("p",{children:"Start with your top artists of all time, last 6 months or 4 weeks."})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:Object(E.jsx)(R.a,{icon:G.a})}),Object(E.jsx)("p",{children:"Generate a random artist based on who you've been listening to lately."})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:Object(E.jsx)(R.a,{icon:G.g})}),Object(E.jsx)("p",{children:"Start with the artists you already follow."})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{children:Object(E.jsx)(R.a,{icon:G.e})}),Object(E.jsx)("p",{children:"Have someone you're thinking of? Search it up!"})]})]}),Object(E.jsx)("p",{children:"Found your starting point? Click on your favourite artist to find similar artists and listen to their top tracks. Continue clicking on artists until you find what you're looking for!"})]}):Object(E.jsx)("p",{children:n}),Object(E.jsx)("div",{className:"call-to-action",children:Object(E.jsx)("button",{onClick:a,children:"Let's go!"})})]})})}),at=(n(83),function(){var t=r.a.useState(null),e=Object(j.a)(t,2),n=(e[0],e[1],r.a.useState(null)),a=Object(j.a)(n,2),s=(a[0],a[1]),c=r.a.useState(null),i=Object(j.a)(c,2),o=i[0],d=i[1],h=r.a.useState(null),b=Object(j.a)(h,2),f=b[0],m=b[1],p=r.a.useState(!1),x=Object(j.a)(p,2),O=x[0],g=x[1],v=r.a.useState(!1),w=Object(j.a)(v,2),y=w[0],k=w[1],N=r.a.useState(null),T=Object(j.a)(N,2),A=T[0],D=T[1],L=r.a.useState(null),B=Object(j.a)(L,2),H=B[0],Q=B[1],U=r.a.useState(!1),W=Object(j.a)(U,2),J=W[0],Y=W[1],z=r.a.useState(),K=Object(j.a)(z,2),X=K[0],$=K[1],tt=(r.a.useRef(null),function(){var t=Object(u.a)(l.a.mark((function t(){var e,n,a,r,s,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:e=t.sent,n=e.data.items.length,a=0,r=0,c=[];case 7:if(!(r<4)){t.next=17;break}if(s=Math.floor(Math.random()*(n-a+1))+a,!e.data.items[s]){t.next=13;break}c.push(e.data.items[s].id),t.next=14;break;case 13:return t.abrupt("continue",7);case 14:r++,t.next=7;break;case 17:return t.abrupt("return",c);case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),et=function(){var t=Object(u.a)(l.a.mark((function t(){var e,n,a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.next=3,tt();case 3:return e=t.sent,t.next=6,I(e);case 6:return n=t.sent,t.next=9,S();case 9:return a=t.sent,t.next=12,M(n.data.tracks[0].artists[0].id,a.data.country);case 12:r=t.sent,m(r),$(null),g(!1);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),at=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:n=t.sent,s(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),rt=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:n=t.sent,d(n.data.artists);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),st=function(){var t=Object(u.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return n=t.sent,t.next=5,M(e,n.data.country);case 5:a=t.sent,Q(a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ct=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e.target.id);case 2:n=t.sent,console.log(n.status),$(n.status);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),it=function(t){t.stopPropagation(),console.log(t.target),rt(t.target.id),st(t.target.id),at(t.target.id),$(null),window.scrollTo({top:0,behavior:"smooth"})},ot=function(t){t.stopPropagation(),k(t.target.id),D([t.target.src,t.target.getAttribute("data-name"),t.target.getAttribute("data-artists")])},lt=function(t){t.stopPropagation(),k(null),D(null)};return r.a.useEffect((function(){et()}),[]),f?Object(E.jsxs)("main",{className:"random",children:[J&&Object(E.jsx)(nt,{closeModal:function(){Y(!1)},title:"How it works",body:"The random artist generator is the perfect way to discover new artists or rediscover some of your favourites. Sometimes there are just too many options and the random generator makes it easy to jump in and start listening to something good. Your results are based on your current favourites so you always get an artist that matches your vibe. A random array of your top artists from the past 4 weeks are thrown into Spotify's recommendation system and returns someone similar. Not happy with the results? Generate a new artist using the \u21bb button"}),o&&Object(E.jsx)(Z,{following:X,handleFollow:ct,artistDetails:H,handleClick:it}),Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"randomheader-info",children:[Object(E.jsx)("button",{onClick:et,children:Object(E.jsx)(R.a,{spin:O,icon:G.d})}),Object(E.jsx)("small",{onClick:function(){Y(!0)},children:Object(E.jsx)("u",{children:"How it works"})})]}),Object(E.jsxs)("div",{className:"randomrow",children:[Object(E.jsx)("div",{className:"image",children:Object(E.jsx)("img",{src:f.artist.images?f.artist.images[0].url:""})}),Object(E.jsxs)("div",{className:"artistinfo",children:[Object(E.jsxs)("div",{className:"randomrow artist-header",children:[Object(E.jsx)("h1",{children:f.artist.name}),Object(E.jsx)("a",{target:"_blank",className:"external-tag",href:f.artist.external_urls.spotify,children:Object(E.jsx)(R.a,{icon:G.b})})]}),Object(E.jsxs)("div",{className:"moreinfo",children:[Object(E.jsxs)("small",{children:[f.artist.followers.total," followers"]}),Object(E.jsx)("div",{className:"tags",children:f.artist.genres.map((function(t){return Object(E.jsx)("small",{children:t})}))}),f.doesFollow||204===X?Object(E.jsx)("button",{id:f.artist.id,className:"follow-btn",children:"Following"}):Object(E.jsxs)("button",{onClick:ct,id:f.artist.id,className:"follow-btn",children:["Follow\xa0",Object(E.jsx)(R.a,{icon:G.c})]})]})]})]}),Object(E.jsxs)("div",{className:"info",children:[Object(E.jsx)("h2",{children:"Top Tracks"}),Object(E.jsx)("div",{className:"related m-0",children:f.topTracks.tracks.map((function(t){return Object(E.jsxs)("div",{children:[t.is_playable&&y===t.id&&Object(E.jsx)("audio",{id:t.id,autoPlay:!0,children:Object(E.jsx)("source",{src:t.preview_url,type:""})}),t.is_playable&&Object(E.jsx)("div",{className:"album-thumbnail",children:Object(E.jsx)("img",{src:t.album.images[0].url,onMouseEnter:ot,onMouseLeave:lt,"data-name":t.name,id:t.id,"data-artists":t.artists.map((function(t){return t.name}))})})]})}))}),Object(E.jsx)("h2",{children:"Related Artists"}),Object(E.jsx)("div",{className:"related m-0",children:f.related.artists.map((function(t){return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"thumbnail",onClick:it,children:Object(E.jsx)("img",{src:t.images[0].url,id:t.id})}),Object(E.jsx)("p",{children:t.name})]})}))})]})]}),Object(E.jsx)(q,{nowPlaying:A})]}):Object(E.jsx)(V,{})}),rt=function(t){var e=r.a.useState(null),n=Object(j.a)(e,2),a=(n[0],n[1]),s=r.a.useState(null),c=Object(j.a)(s,2),i=c[0],o=c[1],d=r.a.useState(null),h=Object(j.a)(d,2),b=h[0],f=h[1],m=r.a.useState(),p=Object(j.a)(m,2),x=p[0],O=p[1],g=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e.target.id);case 2:n=t.sent,console.log(n.status),O(n.status);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e);case 2:n=t.sent,a(n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:n=t.sent,o(n.data.artists);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(u.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:return n=t.sent,t.next=5,M(e,n.data.country);case 5:a=t.sent,f(a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),k=function(t){t.stopPropagation(),console.log(t.target),w(t.target.id),y(t.target.id),v(t.target.id),O(null),window.scrollTo({top:0,behavior:"smooth"})},N=t.loading,_=t.results,T=t.searchQuery;return N?Object(E.jsx)(V,{}):_&&0===_.length?Object(E.jsx)("main",{className:"content",children:Object(E.jsxs)("h1",{children:["No results for ",T]})}):Object(E.jsxs)("main",{className:"content",children:[Object(E.jsxs)("h1",{children:["Search Results for ",T]}),i&&Object(E.jsx)(Z,{handleFollow:g,following:x,artistDetails:b,handleClick:k}),Object(E.jsx)("div",{className:"card-container",children:_&&_.map((function(t){return Object(E.jsx)($,{id:t.id,handleClick:k,image:t.images[0]?t.images[0].url:null,name:t.name})}))})]})},st=(n(84),function(){var t=r.a.useContext(D).user,e=r.a.useState(!1),n=Object(j.a)(e,2),a=n[0],s=n[1];return Object(E.jsxs)("div",{className:"mobile-header",children:[Object(E.jsx)("div",{className:"logo-cont",children:Object(E.jsxs)(W.b,{to:"/",children:[Object(E.jsx)("img",{src:J}),Object(E.jsx)("h2",{children:"Artist Explorer"})]})}),Object(E.jsxs)("div",{className:"mobile-thumbnail-small dropdowntrigger",children:[Object(E.jsx)("img",{src:t.images&&t.images[0].url,onClick:function(t){t.stopPropagation(),s(!a)}}),Object(E.jsx)(Q,{show:a})]})]})}),ct=(n(85),function(t){var e=r.a.useContext(D).user,n=r.a.useState(),a=Object(j.a)(n,2),s=a[0],c=a[1],i=r.a.useState(),o=Object(j.a)(i,2),h=o[0],b=o[1],f=r.a.useState(),m=Object(j.a)(f,2),p=m[0],x=m[1],O=r.a.useState(),g=Object(j.a)(O,2),v=g[0],w=g[1],y=r.a.useState(!0),k=Object(j.a)(y,2),S=k[0],_=k[1],C=t.history,F=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),w(!0),C.push("/search"),c(e.target.value),t.next=6,N(s);case 6:n=t.sent,b(n.data.artists.items),x(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=Object(u.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),x(!0),w(!0),C.push("/search"),t.next=6,N(s);case 6:n=t.sent,b(n.data.artists.items),x(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return e?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(st,{}),S&&Object(E.jsx)(nt,{closeModal:function(){_(!1)},title:"Welcome back, ".concat(e.display_name,"!"),type:"welcome"}),Object(E.jsxs)("div",{className:"row",children:[Object(E.jsx)(Y,{searching:v}),Object(E.jsxs)("div",{className:"main",children:[Object(E.jsx)(U,{handleChange:F,handleSubmit:T}),Object(E.jsxs)(d.c,{children:[Object(E.jsx)(d.a,{exact:!0,path:"/",render:function(){return Object(E.jsx)(tt,{})}}),Object(E.jsx)(d.a,{exact:!0,path:"/top",render:function(){return Object(E.jsx)(tt,{})}}),Object(E.jsx)(d.a,{exact:!0,path:"/following",render:function(){return Object(E.jsx)(et,{})}}),Object(E.jsx)(d.a,{exact:!0,path:"/random",render:function(){return Object(E.jsx)(at,{})}}),Object(E.jsx)(d.a,{exact:!0,path:"/search",render:function(){return Object(E.jsx)(rt,{loading:p,results:h,searchQuery:s})}})]})]})]}),Object(E.jsx)(z,{})]}):Object(E.jsx)(V,{})}),it=(n(86),function(t){return Object(E.jsxs)("button",{className:"main-button",type:"button",children:[Object(E.jsx)("img",{className:"logo",src:t.logo}),Object(E.jsx)("a",{href:t.link,children:t.label})]})}),ot=n.p+"static/media/Spotify_Icon_RGB_White.ecd54051.png",lt=(n(87),function(){return Object(E.jsxs)("main",{className:"login",children:[Object(E.jsx)("h1",{children:"Artist Explorer"}),Object(E.jsx)(it,{logo:ot,link:"http://artist-explorer.herokuapp.com/login",label:"Login with Spotify"})]})}),ut=(n(88),function(t){return Object(E.jsx)(E.Fragment,{children:w?Object(E.jsx)(ct,Object(i.a)({},t)):Object(E.jsx)(lt,{})})}),jt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,s=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),s(t),c(t)}))};c.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(B,{children:Object(E.jsx)(W.a,{children:Object(E.jsx)(d.a,{component:ut})})})}),document.getElementById("root")),jt()}},[[89,1,2]]]);
//# sourceMappingURL=main.db440539.chunk.js.map